# Configuration for the transcription tool
models:
  - parakeet
  - canary

output_formats:
  - json

model_configs:
  parakeet:
    active: true
    model_size: "nvidia/parakeet-tdt-0.6b-v3"
    device: "cpu" # cpu/cuda
    # Memory optimization settings for long audio files
    enable_local_attention: true
    local_attention_window: [256, 256]  # [left_context, right_context] in frames (stanni 128 / 128)
    enable_chunking: true
    use_multigpu: false  # Enable DataParallel for multiple GPUs

  canary:
    active: true
    model_name: "nvidia/canary-1b-v2"
    device: "cpu" # cpu/cuda
    source_lang: "de"  # German source language
    target_lang: "de"  # German target language (ASR mode)
    timestamps: true   # Enable timestamps (includes word-level)
    use_multigpu: false  # Enable DataParallel for multiple GPUs

# Ultra quality configurations (GPU, maximum quality)
ultra_configs:
  parakeet:
    device: "cuda"  # cpu/cuda
    enable_local_attention: false  # Disable for maximum quality
    enable_chunking: false         # Disable for maximum quality
    batch_size: 4                  # Larger batch size for GPU (was 4)
    use_multigpu: true             # Enable multi-GPU in ultra mode

  canary:
    device: "cuda"  # cpu/cuda
    batch_size: 4                  # Larger batch size for GPU (was 4)
    timestamps: true               # Ensure timestamps are enabled in ultra mode
    use_multigpu: true             # Enable multi-GPU in ultra mode

youtube_download:
  video_quality: "bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best"
  # Additional video versions to download/convert
  additional_versions:
    - quality: "480p"  # Download or convert to 480p
      format: "best[height<=480][ext=mp4]/best[ext=mp4]/best"  # yt-dlp format selector
      convert_from_best: false  # If true, convert from best quality instead of downloading separately
  audio_extraction:
    acodec: "pcm_s16le"
    ar: 16000 # sampling rate
    ac: 1 # mono
